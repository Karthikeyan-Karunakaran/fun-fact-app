pipeline:
  agent:
    any:
  stages:
    - stage: "Clone Repository"
      steps:
        - sh "rm -rf fun-fact-app && git clone https://github.com/Karthikeyan-Karunakaran/fun-fact-app.git"

    - stage: "Set Up Virtual Environment"
      steps:
        - sh "cd fun-fact-app && python3 -m venv venv && source venv/bin/activate"

    - stage: "Install Dependencies"
      steps:
        - sh "cd fun-fact-app && source venv/bin/activate && pip install -r requirements.txt"

    - stage: "Run Python Script"
      steps:
        - sh "cd fun-fact-app && source venv/bin/activate && python3 fun_fact_generator.py"

    - stage: "Cleanup"
      steps:
        - sh "rm -rf fun-fact-app"
